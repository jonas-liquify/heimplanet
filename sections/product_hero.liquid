<script src="{{ 'liquify_custom.js' | asset_url }}" type="text/javascript"></script>
<div
  li-element="product-variant-container"
  class="w-layout-grid product-header_layout"
  x-data="handleVariant({{ product | json | escape }}, {{ product.options_by_name | json | escape }}, {{ product.selected_or_first_available_variant | json | escape }})"
  x-init="$nextTick(() => { activateVariants() })"
  data-productid="{{ product.id }}"
>
  <div id="w-node-_01780521-9e7b-618b-5edd-08ed6205ce99-c68d81de" class="product-header_images">
    <div id="w-node-dde72f15-2dd1-3c3f-ef72-b299bc1979d2-c68d81de" class="swiper-container is-product-gallery">
      <div class="swiper is-product-gallery w-dyn-list">
        <div id="my-gallery" role="list" class="swiper-wrapper is-product-gallery w-dyn-items">
          {% for image in product.images %}
            <div li-for="image in product.images" role="listitem" class="swiper-slide is-product-gallery w-dyn-item">
              <a
                li-object:data-pswp-height="image.width"
                li-object:data-pswp-width="image.height"
                href="#"
                class="product_gallery-lightbox w-inline-block"
                data-pswp-height="{{ image.height }}px"
                data-pswp-width="{{ image.width }}px"
                ><img
                  loading="lazy"
                  li-object:src="image.src | product_img_url: 'master'"
                  li-object:alt="image.alt"
                  src="https:{{ image.src | product_img_url: 'original' }}"
                  alt="{{ image.alt }}"
                  class="product_gallery-image"
                >
              </a>
            </div>
          {% endfor %}
        </div>
        <div class="w-dyn-empty"><div>No items found.</div></div>
      </div>
      <div class="product-header_slider-wrapper hide-desktop">
        <div class="swiper_button-wrapper is-product-slider pointer-events-off z-index-1 hide-mobile-landscape">
          <a href="#" class="swiper_button swiper-prev pointer-events-on w-inline-block">
            <div class="swiper_button-icon is-reversed w-embed">
              <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewbox="0 0 29.541 22.323">
                <g id="Group_44" data-name="Group 44" transform="translate(0 1.014)"><path id="Path_1" data-name="Path 1" d="M115.445,20.633l9.311-10.148L115.445.338" transform="translate(-97.25 -0.338)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="3"></path><line id="Line_1" data-name="Line 1" x1="27.506" transform="translate(0 10.148)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="3"></line></g>
              </svg>
            </div></a
          ><a href="#" class="swiper_button swiper-next pointer-events-on w-inline-block">
            <div class="swiper_button-icon w-embed">
              <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewbox="0 0 29.541 22.323">
                <g id="Group_44" data-name="Group 44" transform="translate(0 1.014)"><path id="Path_1" data-name="Path 1" d="M115.445,20.633l9.311-10.148L115.445.338" transform="translate(-97.25 -0.338)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="3"></path><line id="Line_1" data-name="Line 1" x1="27.506" transform="translate(0 10.148)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="3"></line></g>
              </svg>
            </div>
          </a>
        </div>
        <div class="swiper is-product-thumbnail">
          <div class="swiper-wrapper is-product-thumbnail">
            {% for image in product.images %}
              <div li-for="image in product.images" class="swiper-slide is-product-thumbnail">
                <img
                  loading="lazy"
                  li-object:src="image.src | product_img_url: 'master'"
                  li-object:alt="image.alt"
                  src="{{ image.src | product_img_url: 'master' }}"
                  alt="{{ image.alt }}"
                  class="product_thumbnail-image"
                >
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="swiper-slide is-product-thumbnail is-active hide"></div>
    </div>
  </div>
  <div class="product-header_product-details">
    {% render 'judgeme_widgets',
      widget_type: 'judgeme_preview_badge',
      jm_style: '',
      concierge_install: false,
      product: product
    %}
    <h1 li-object:text="product.title" class="heading-style-h2">
      {{ product.title }}
    </h1>
    <div class="spacer-xsmall"></div>
    <div class="product-header_price-wrapper">
      <div
        li-object:text="product.price"
        li-js-price="price"
        li-object="product.price | money"
        class="text-size-large text-weight-bold"
      >
        {{ product.price | money }}
      </div>
      <template x-if="selected_or_first_available_variant.compare_at_price > selected_or_first_available_variant.price">
        <div li-js-if="selected_or_first_available_variant.compare_at_price > selected_or_first_available_variant.price">
          <div
            li-object="product.compare_at_price | money"
            class="text-size-regular text-style-strikethrough text-align-right text-style-muted"
          >
            {{ product.compare_at_price | money }}
          </div>
        </div>
      </template>
      <div class="product-header_tag-list">
        <template x-if="selected_or_first_available_variant.available != true">
          <div li-js-if="selected_or_first_available_variant.available != true" class="product-item_tag">
            Nicht verf端gbar
          </div>
        </template>
        <template x-if="selected_or_first_available_variant.compare_at_price > selected_or_first_available_variant.price">
          <div
            li-js-if="selected_or_first_available_variant.compare_at_price > selected_or_first_available_variant.price"
            class="product-item_tag is-red"
          >
            Sale
          </div>
        </template>
      </div>
    </div>
    <div class="text-size-small text-style-mono">
      inkl. 19% MwSt. (die MwSt. des jeweiligen EU-Landes wird an der Kasse berechnet.) zzgl.
      <a href="https://heimplanet.com/pages/faq">Versand</a>
    </div>
    <div class="spacer-xsmall"></div>
    {% if product.metafields.my_fields.kategorie_handle != blank %}
      <div li-if="product.metafields.my_fields.kategorie_handle != blank" class="produkt_swatch-component">
        <div class="produkt_swatch-wrapper">
          {% assign collection_handle = product.metafields.my_fields.kategorie_handle %}
          {% assign collection = collections[collection_handle] %}
          {% for product in collection.products %}
            <div li-for="product in collection.products" class="produkt_swatch-link">
              <a
                li-object:href="product.url | within: collection.url"
                href="{{ product.url | within: collection.url }}"
                class="produkt_swatch-link w-inline-block"
                ><img
                  src="{{ product.featured_image.src | img_url: 'large' }}"
                  loading="lazy"
                  li-object:src="product.featured_image.src | img_url: 'large'"
                  li-object:alt="product.featured_image.alt"
                  alt="{{ product.featured_image.alt }}"
                  class="produkt_swatch-img is-darken"
                >
              </a>
            </div>
          {% endfor %}
        </div>
        <div class="spacer-xsmall"></div>
      </div>
    {% endif %}
    <div class="dropdown_component">
      <div class="dropdown_header">
        <div class="text-size-regular">
          {{ section.settings.text_beschreibung }}
        </div>
        <div class="dropdown_symbol"></div>
      </div>
      <div class="dropdown_content">
        <div class="dropdown-inner-content">
          <div li-object="product.description" class="text-rich-text max-width-large w-richtext">
            {{ product.description }}
          </div>
        </div>
      </div>
    </div>
    {% if product.metafields.custom.lieferumfang != blank %}
      <div li-if="product.metafields.custom.lieferumfang != blank" class="dropdown_component">
        <div class="dropdown_header">
          <div class="text-size-regular">
            {{ section.settings.text_lieferumfang }}
          </div>
          <div class="dropdown_symbol"></div>
        </div>
        <div class="dropdown_content">
          <div class="dropdown-inner-content">
            <ul role="list" class="product-header_lieferumfang-liste">
              {% for item in product.metafields.custom.lieferumfang.value %}
                <li li-for="item in product.metafields.custom.lieferumfang.value">
                  <div li-object="item">{{ item }}</div>
                </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    {% endif %}
    <div class="spacer-xsmall"></div>
    <div class="product-header_add-to-cart w-form">
      {% form 'product', product, class: 'product-header_default-state' %}
        {% if product.has_only_default_variant != true %}
          <div li-if="product.has_only_default_variant != true" class="product-header_option-list">
            <template x-for="(option, optionKey) in product.options" :key="optionKey">
              <div li-element="product-options-loop" class="product-header_option" data-ProductVariantsLoop="true">
                <div li-element="product-options-name" x-text="option">Variant</div>
                <div class="product-header_radio-list">
                  <template
                    x-for="(variantName, variantKey) in options_by_name[option].option.values"
                    :key="variantName"
                  >
                    <label li-element="product-option-loop" class="product-header_radio w-radio">
                      <div
                        class="w-form-formradioinput w-form-formradioinput--inputType-custom product-header_radio-button w-radio-input"
                      ></div>
                      <input
                        type="radio"
                        li-element="product-option-input"
                        style="opacity:0;position:absolute;z-index:-1"
                        x-on:click="setVariant"
                        :name="option"
                        :data-name="option"
                        :value="variantName"
                        :id="variantName.toString().normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase().trim().replace(/\s+/g, '-').replace(/[^\w-]+/g, '').replace(/--+/g, '-')"
                        :checked="selected_or_first_available_variant?.options.includes(variantName)"
                        data-selectorType="radio"
                        :class="firstOptionHasAvailableChildren[variantName] ? '' : 'disabled'"
                      >
                      <span
                        li-element="product-option-name"
                        class="text-size-regular text-weight-semibold w-form-label"
                        for="radio"
                        x-text="variantName"
                        :for="variantName"
                        >XS</span
                      ></label
                    ></template
                  >
                </div>
              </div>
            </template>
          </div>
        {% endif %}
        <div class="spacer-xsmall"></div>
        <div class="product-header_ad-to-cart-wrapper">
          <template x-if="selected_or_first_available_variant.available == true">
            <div li-js-if="selected_or_first_available_variant.available == true" class="product-header_quantity">
              <input
                class="form-input is-quantity w-input"
                maxlength="256"
                name="quantity"
                li-element="add-to-cart-quantity"
                data-name="quantity"
                placeholder="1"
                type="number"
                id="quantity"
                required=""
                x-model="quantity"
              >
              <a
                li-element="add-to-cart"
                href="#"
                class="button max-width-full w-button"
                @click="addToCart()"
                :disabled="!addToCartButton"
                >In den Warenkorb</a
              >
            </div>
          </template>
          <template x-if="selected_or_first_available_variant.available != true">
            <div li-js-if="selected_or_first_available_variant.available != true">
              <a href="#" class="button is-secondary max-width-full pointer-events-off w-button">Nicht verf端gbar</a>
            </div>
          </template>
        </div>
      {% endform %}
      <div class="out-of-stock-state w-form-done"><div>Thank you! Your submission has been received!</div></div>
      <div class="error-state w-form-fail"><div>Oops! Something went wrong while submitting the form.</div></div>
    </div>
    <div class="spacer-medium"></div>
    {% if product.metafields.my_fields.upsell != blank %}
      <div li-if="product.metafields.my_fields.upsell != blank" x-data="" class="upsell-container">
        <div class="text-size-regular text-color-grey">
          {{ section.settings.text_zubehoer }}
        </div>
        {% for product in product.metafields.my_fields.upsell.value %}
          <div li-for="product in product.metafields.my_fields.upsell.value" class="upsell-product">
            <a
              li-object:href="product.url | within: collection.url"
              id="w-node-b96fb683-1d89-1a15-5ea7-1a6f588502d3-c68d81de"
              href="{{ product.url | within: collection.url }}"
              class="upsell_image-holder w-inline-block"
              ><img
                src="{{ product.featured_image.src | img_url: 'large' }}"
                loading="lazy"
                li-object:src="product.featured_image.src | img_url: 'large'"
                li-object:alt="product.featured_image.alt"
                alt="{{ product.featured_image.alt }}"
                class="upsell_image is-darken"
              >
            </a>
            <div id="w-node-b96fb683-1d89-1a15-5ea7-1a6f588502d5-c68d81de" class="upsell_infos">
              <a
                li-object:href="product.url | within: collection.url"
                href="{{ product.url | within: collection.url }}"
                class="upsell_titel w-inline-block"
              >
                <div li-object="product.title" class="heading-style-h3 is-small">{{ product.title }}</div>
                <div class="upsell_price">
                  {% if product.compare_at_price > product.price %}
                    <div li-if="product.compare_at_price > product.price" class="display-inlineflex">
                      <div
                        li-object=" product.compare_at_price | money"
                        class="upsell_price-tag text-style-strikethrough"
                      >
                        {{ product.compare_at_price | money }}
                      </div>
                    </div>
                  {% endif %}
                  <div li-object="product.price | money" class="upsell_price-tag">{{ product.price | money }}</div>
                </div>
              </a>
              {%- if product.available %}
                <div li-if="product.available">
                  <script src="{{ 'liquify_custom.js' | asset_url }}" type="text/javascript"></script>
                  <a
                    li-element="direct-add-to-cart"
                    href="#"
                    class="button is-small w-button"
                    x-data="handleVariant({{ product | json | escape }}, {{ product.options_by_name | json | escape }}, {{ product.selected_or_first_available_variant | json | escape }})"
                    @click="addToCart()"
                    >Hinzuf端gen</a
                  >
                </div>
              {% endif -%}
              {%- unless product.available %}
                <a li-unless="product.available" href="#" class="button is-small pointer-events-off w-button">
                  Nicht verf端gbar
                </a>
              {% endunless %}
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</div>
{% schema %} {"tag":"div","name":"product_hero","class":"section_product-header","settings":[{"id":"text_beschreibung","type":"text","label":"Beschreibung","default":"Beschreibung anzeigen"},{"id":"text_lieferumfang","type":"text","label":"Lieferumfang","default":"Lieferumfang anzeigen"},{"id":"text_zubehoer","type":"text","label":"Zubehoer","default":"Zubeh\u00f6r erg\u00e4nzen"}],"presets":[{"name":"product_hero","category":"Liquify"}]} {% endschema %}
